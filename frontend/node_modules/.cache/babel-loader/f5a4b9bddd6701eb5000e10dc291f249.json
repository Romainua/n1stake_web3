{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Params = void 0;\n/* eslint-disable @typescript-eslint/naming-convention */\n\nconst encoding_1 = require(\"@cosmjs/encoding\");\n\nconst jsonrpc_1 = require(\"../../jsonrpc\");\n\nconst encodings_1 = require(\"../encodings\");\n\nconst requests = __importStar(require(\"../requests\"));\n\nfunction encodeHeightParam(param) {\n  return {\n    height: encodings_1.may(encodings_1.Integer.encode, param.height)\n  };\n}\n\nfunction encodeBlockchainRequestParams(param) {\n  return {\n    minHeight: encodings_1.may(encodings_1.Integer.encode, param.minHeight),\n    maxHeight: encodings_1.may(encodings_1.Integer.encode, param.maxHeight)\n  };\n}\n\nfunction encodeBlockSearchParams(params) {\n  return {\n    query: params.query,\n    page: encodings_1.may(encodings_1.Integer.encode, params.page),\n    per_page: encodings_1.may(encodings_1.Integer.encode, params.per_page),\n    order_by: params.order_by\n  };\n}\n\nfunction encodeAbciQueryParams(params) {\n  return {\n    path: encodings_1.assertNotEmpty(params.path),\n    data: encoding_1.toHex(params.data),\n    height: encodings_1.may(encodings_1.Integer.encode, params.height),\n    prove: params.prove\n  };\n}\n\nfunction encodeBroadcastTxParams(params) {\n  return {\n    tx: encoding_1.toBase64(encodings_1.assertNotEmpty(params.tx))\n  };\n}\n\nfunction encodeTxParams(params) {\n  return {\n    hash: encoding_1.toBase64(encodings_1.assertNotEmpty(params.hash)),\n    prove: params.prove\n  };\n}\n\nfunction encodeTxSearchParams(params) {\n  return {\n    query: params.query,\n    prove: params.prove,\n    page: encodings_1.may(encodings_1.Integer.encode, params.page),\n    per_page: encodings_1.may(encodings_1.Integer.encode, params.per_page),\n    order_by: params.order_by\n  };\n}\n\nfunction encodeValidatorsParams(params) {\n  return {\n    height: encodings_1.may(encodings_1.Integer.encode, params.height),\n    page: encodings_1.may(encodings_1.Integer.encode, params.page),\n    per_page: encodings_1.may(encodings_1.Integer.encode, params.per_page)\n  };\n}\n\nclass Params {\n  static encodeAbciInfo(req) {\n    return jsonrpc_1.createJsonRpcRequest(req.method);\n  }\n\n  static encodeAbciQuery(req) {\n    return jsonrpc_1.createJsonRpcRequest(req.method, encodeAbciQueryParams(req.params));\n  }\n\n  static encodeBlock(req) {\n    return jsonrpc_1.createJsonRpcRequest(req.method, encodeHeightParam(req.params));\n  }\n\n  static encodeBlockchain(req) {\n    return jsonrpc_1.createJsonRpcRequest(req.method, encodeBlockchainRequestParams(req.params));\n  }\n\n  static encodeBlockResults(req) {\n    return jsonrpc_1.createJsonRpcRequest(req.method, encodeHeightParam(req.params));\n  }\n\n  static encodeBlockSearch(req) {\n    return jsonrpc_1.createJsonRpcRequest(req.method, encodeBlockSearchParams(req.params));\n  }\n\n  static encodeBroadcastTx(req) {\n    return jsonrpc_1.createJsonRpcRequest(req.method, encodeBroadcastTxParams(req.params));\n  }\n\n  static encodeCommit(req) {\n    return jsonrpc_1.createJsonRpcRequest(req.method, encodeHeightParam(req.params));\n  }\n\n  static encodeGenesis(req) {\n    return jsonrpc_1.createJsonRpcRequest(req.method);\n  }\n\n  static encodeHealth(req) {\n    return jsonrpc_1.createJsonRpcRequest(req.method);\n  }\n\n  static encodeStatus(req) {\n    return jsonrpc_1.createJsonRpcRequest(req.method);\n  }\n\n  static encodeSubscribe(req) {\n    const eventTag = {\n      key: \"tm.event\",\n      value: req.query.type\n    };\n    const query = requests.buildQuery({\n      tags: [eventTag],\n      raw: req.query.raw\n    });\n    return jsonrpc_1.createJsonRpcRequest(\"subscribe\", {\n      query: query\n    });\n  }\n\n  static encodeTx(req) {\n    return jsonrpc_1.createJsonRpcRequest(req.method, encodeTxParams(req.params));\n  } // TODO: encode params for query string???\n\n\n  static encodeTxSearch(req) {\n    return jsonrpc_1.createJsonRpcRequest(req.method, encodeTxSearchParams(req.params));\n  }\n\n  static encodeValidators(req) {\n    return jsonrpc_1.createJsonRpcRequest(req.method, encodeValidatorsParams(req.params));\n  }\n\n}\n\nexports.Params = Params;","map":{"version":3,"mappings":"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","names":["encodeHeightParam","param","height","encodings_1","encode","encodeBlockchainRequestParams","minHeight","maxHeight","encodeBlockSearchParams","params","query","page","per_page","order_by","encodeAbciQueryParams","path","data","encoding_1","prove","encodeBroadcastTxParams","tx","encodeTxParams","hash","encodeTxSearchParams","encodeValidatorsParams","Params","encodeAbciInfo","req","jsonrpc_1","method","encodeAbciQuery","encodeBlock","encodeBlockchain","encodeBlockResults","encodeBlockSearch","encodeBroadcastTx","encodeCommit","encodeGenesis","encodeHealth","encodeStatus","encodeSubscribe","eventTag","key","value","type","requests","buildQuery","tags","raw","encodeTx","encodeTxSearch","encodeValidators","exports"],"sourceRoot":"","sources":["../../../src/tendermint34/adaptor/requests.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}